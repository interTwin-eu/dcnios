# Kafka

This ProcessGroup consumes a Kafka topic.
 - An identifier name of the process. It must be unique.
 - Kafka endpoint, just the IP and the port with any protocol, format like this `<ip>:<port>`
 - The topic which is going to be consumed.
 - The group identifier indicates the consumer group.
 - In case the Kafka topics are separated by `key:value` use those arguments:
    - separate_by_key
    - message_demarcator
 - The kafka recipe in [IM](https://www.grycap.upv.es/im/index.php) support the SASL_SSL security protocol. So, the user and password of the SASL_SSL security protocol must be set:
    - sasl_username: `user`
    - sasl_password: `password`


The connection between NiFi and Kafka uses SSL context
by default TLS is the SSL Protocol and PKCS12 is the Truststore Type. SSL context only needs the Truststore filename and Truststore password. This file must be under the directory "/opt/nifi/nifi-current/data/".


```
Kafka:
- name: kafka
    bootstrap_servers: 158.42.105.207:9094
    topic: test
    group_id: "1"
    sasl_username: user
    sasl_password: pass
    ssl_context:
      Truststore_Filename: "file_of_pkcs12.p12"
      Truststore_Password: "the-password"
```